(this["webpackJsonpteamvoy-test-task"]=this["webpackJsonpteamvoy-test-task"]||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(8),r=n.n(a),o=(n(14),n(4)),i=n(2);function l(e){return e[0].toUpperCase()+e.slice(1)}var j=function(e,t){return e.types[0].type.name<t.types[0].type.name?-1:e.types[0].type.name>t.types[0].type.name?1:0},u=n(0),m=function(e){var t=e.name,n=e.id,c=e.types,s=e.url,a=e.selectPokemon;function r(e){return{grass:"#70e000",fire:"#ec7672",electric:"#ffde7b",poison:"#c5b3cf",flying:"#d8e2dc",normal:"#ccd5ae",bug:"#718355",water:"#168aad",ground:"#936639",fairy:"#ff9100"}[e]}return Object(u.jsxs)("div",{className:"pokemon-card",onClick:function(){a(n)},children:[Object(u.jsx)("img",{alt:"pokemon-img",className:"pokemon-img",src:s}),Object(u.jsx)("h3",{children:t}),Object(u.jsx)("div",{className:"pokemon-types-wrapper",children:null===c||void 0===c?void 0:c.map((function(e,t){var n=e.type;return Object(u.jsx)("span",{className:"pokemon-type",style:{backgroundColor:r(n.name)},children:l(n.name)},"".concat(n,"-").concat(t))}))})]})},d=function(e){var t=e.pokemons,n=e.selectPokemon;return Object(u.jsx)("div",{className:"pokemon-list",children:t&&t.map((function(e){return Object(u.jsx)(m,{id:e.id,types:e.types,name:e.name,url:e.imageUrl,selectPokemon:n},"".concat(e.name,"-").concat(e.id))}))})},p=function(e){var t=e.pokemon,n=t.stats.sort((function(e,t){return e.stat.name<t.stat.name?-1:e.stat.name>t.stat.name?1:0}));return Object(u.jsxs)("div",{className:"pokemon-info",children:[Object(u.jsx)("img",{alt:"pokemon-img",className:"pokemonInfo-img",src:t.imageUrl}),Object(u.jsxs)("h3",{children:[t.name," ",t.id<10?"#00".concat(t.id):t.id>100?t.id:"#0".concat(t.id)]}),Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Type"}),Object(u.jsx)("td",{children:t.types.map((function(e){return l(e.type.name)})).join(", ")})]}),n.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:l(e.stat.name)}),Object(u.jsx)("td",{children:e.base_stat})]},"".concat(e.base_stat,"-").concat(t))})),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Total moves"}),Object(u.jsx)("td",{children:t.totalMoves})]})]})})]})},b=n(7),O=n.n(b),f=n(9);n(17);var h=function(){var e=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),j=r[0],u=r[1],m=Object(c.useState)(!1),d=Object(i.a)(m,2),p=d[0],b=d[1],h=Object(c.useState)(!0),x=Object(i.a)(h,2),k=x[0],v=x[1];function y(){return(y=Object(f.a)(O.a.mark((function e(t){var n,c,a,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,a=c.results.map((function(e){return e.url})),e.next=10,Promise.allSettled(a.map((function(e){return fetch(e).then((function(e){return e.json()}))})));case 10:r=e.sent,i=r.map((function(e){var t=e.value;return{name:l(t.name),types:t.types,stats:t.stats,imageUrl:t.sprites.front_default,totalMoves:t.moves.length,id:t.id}})),s((function(e){return[].concat(Object(o.a)(e),Object(o.a)(i))})),v(!1),u(c.next),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),b(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}return[{pokemons:n,nextChunk:j,error:p,loading:k},s,function(e){return y.apply(this,arguments)}]}(),t=Object(i.a)(e,3),n=t[0],s=n.pokemons,a=n.nextChunk,r=n.error,m=n.loading,b=t[1],h=t[2],x=Object(c.useState)(null),k=Object(i.a)(x,2),v=k[0],y=k[1];return Object(c.useEffect)((function(){h("https:pokeapi.co/api/v2/pokemon/?limit=12")}),[]),r?Object(u.jsx)("h2",{children:"Fetching error"}):m?Object(u.jsx)("h2",{children:"Loading..."}):Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)("section",{className:"section-inner",children:[Object(u.jsx)("h1",{className:"header",children:"Pokedex"}),Object(u.jsxs)("section",{className:"section-content",children:[Object(u.jsxs)("div",{className:"pokemon-list-wrapper",children:[Object(u.jsx)(d,{pokemons:s,selectPokemon:function(e){var t=s.find((function(t){return t.id===e}));y(t)}}),Object(u.jsxs)("div",{className:"btn-group",children:[Object(u.jsx)("button",{className:"btn",onClick:function(){h(a)},children:"Load More"}),Object(u.jsx)("button",{className:"btn",onClick:function(){b((function(e){return Object(o.a)(e).sort(j)}))},children:"Sort by type"})]})]}),v&&Object(u.jsx)(p,{pokemon:v})]})]})})};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.62bb9440.chunk.js.map